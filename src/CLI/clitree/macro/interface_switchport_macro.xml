<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE CLISH_MODULE [
<!ENTITY MODULE-NS-IETF "urn:ietf:params:xml:ns:yang:ietf-interfaces">
<!ENTITY MODULE-NS-DELL-IP   "http://www.dellemc.com/networking/os10/dell-ip">
<!ENTITY MODULE-PREF-IANA-IF "ianaift">
<!ENTITY MODULE-NS-IANA-IF "&MODULE-PREF-IANA-IF;=urn:ietf:params:xml:ns:yang:iana-if-type">
<!ENTITY MODULE-PREF-IF "dell-if">
<!ENTITY MODULE-NS-IF "&MODULE-PREF-IF;=http://www.dellemc.com/networking/os10/dell-interface">
<!ENTITY MODULE-NS-IETF-IF "&MODULE-NS-IETF;,&MODULE-NS-IANA-IF;,&MODULE-NS-IF;">
<!ENTITY IF_REPEAT "/interfaces/interface[]">
<!ENTITY IF_NO_REPEAT "/interfaces/interface">
<!ENTITY IF_BACKPTRS "/cms-interface-backptr/interface-in-common">
<!ENTITY MODULE-PREF-DELL-IP "dell-ip">
<!ENTITY INTF_IPV6_REPEAT "&IF_REPEAT;/&MODULE-PREF-DELL-IP;:ipv6">
<!ENTITY INTF_IPV6_NO_REPEAT "&IF_NO_REPEAT;/&MODULE-PREF-DELL-IP;:ipv6">
]>

<ROOT>
<MACRODEF name="INTF_SWITCHPORT_LOADINTV">
        <COMMAND
            name="switchport"
            help="Configure switchport parameters"
            namespace="&MODULE-NS-IETF-IF;,dell-ip=&MODULE-NS-DELL-IP;"
            operation="edit-config"
            add_config_entry = "false"
            >
        </COMMAND>
        <COMMAND
            name="no switchport"
            help="Configure switchport parameters"
            operation="edit-config"
            default_oper="merge"
            namespace="&MODULE-NS-IETF-IF;"
            yang_name= "&IF_REPEAT;/name=arg1,&IF_REPEAT;/dell-if:mode=MODE_L2DISABLED"
            sub_oper_yang="merge:mode"
            add_config_entry = "true"
            >
            <ACTION
                builtin="clish_extn"
                ></ACTION>
        </COMMAND>
        <COMMAND
            name="switchport mode"
            help="Enter the port mode access/trunk"
            namespace="&MODULE-NS-IETF-IF;"
            operation="edit-config"
            >
            <PARAM
                help="switchport mode"
                name="mode"
                mode="switch"
                ptype="SUBCOMMAND">
                <!--- switchport mode access -->
                <PARAM
                   help="Port mode access"
                   name="access"
                   mode="subcommand"
                   ptype="SUBCOMMAND"
                   db_flag="SKIP_NODE"
                   yang_name= "&IF_REPEAT;/name=arg1,&IF_REPEAT;/dell-if:mode=MODE_L2"/>
                <!--- switchport mode trunk -->
                <PARAM
                   help="Port mode trunk"
                   name="trunk"
                   mode="subcommand"
                   ptype="SUBCOMMAND"
                   yang_name= "&IF_REPEAT;/name=arg1,&IF_REPEAT;/dell-if:mode=MODE_L2HYBRID"/>
            </PARAM> <!-- End switch-subcommnads-->
            <ACTION
                builtin="clish_extn"
                ></ACTION>
        </COMMAND>
        <COMMAND
            name="no switchport mode"
            help="Enter the port mode"
            namespace="&MODULE-NS-IETF-IF;,dell-ip=&MODULE-NS-DELL-IP;"
            operation="edit-config"
            default_oper="merge"
            sub_oper_yang="remove:mode"
            yang_name= "&IF_REPEAT;/name=arg1,&IF_REPEAT;/dell-if:mode">
            <ACTION
                builtin="clish_extn"
                ></ACTION>
        </COMMAND>
        <COMMAND
            name="switchport access"
            help="Set access mode characteristics of the interface"
            namespace="&MODULE-NS-IETF-IF;,dell-ip=&MODULE-NS-DELL-IP;"
            operation="edit-config"
            default_oper="none"
            yang_key="&IF_BACKPTRS;/name;&IF_BACKPTRS;/name=/interfaces/interface/name"
            pfeature="FEATURE_CONFIG_OS10_STYLE"
            >
            <PARAM
               name="vlan"
               help="Set VLAN when interface is in access mode"
               mode="subcommand"
               ptype="SUBCOMMAND">
                <PARAM
                   help="VLAN ID of the VLAN when this port is in access mode"
                   name="vlan-id"
                   ptype="VLAN_ID"
                   db_multi_yang_name="&IF_BACKPTRS;/untagged-vlan"
                   sub_oper_yang="merge:untagged-ports"
                   yang_name="&IF_NO_REPEAT;/name=vlan${vlan-id},&IF_NO_REPEAT;/dell-if:untagged-ports[]=arg1"/>
            </PARAM> <!-- End switch-subcommnads-->
            <ACTION
                builtin="clish_extn"
                ></ACTION>
        </COMMAND>
        <COMMAND
           name="switchport trunk"
           help="Configure trunking parameters on an interface"
           namespace="&MODULE-NS-IETF-IF;"
           operation="edit-config"
           pfeature="FEATURE_CONFIG_OS10_STYLE"
           />
        <COMMAND
           name="switchport trunk allowed"
           help="Configure trunking parameters on an interface"
           namespace="&MODULE-NS-IETF-IF;"
           operation="edit-config"
           default_oper="merge"
           pfeature="FEATURE_CONFIG_OS10_STYLE"
           />
        <COMMAND
           name="switchport trunk allowed vlan"
           help="Configure trunking parameters on an interface"
           namespace="&MODULE-NS-IETF-IF;,dell-ip=&MODULE-NS-DELL-IP;"
           operation="edit-config"
           default_oper="none"
           yang_key="&IF_BACKPTRS;/name;&IF_BACKPTRS;/name=/interfaces/interface/name"
           pfeature="FEATURE_CONFIG_OS10_STYLE"
           >
           <PARAM
              help="VLAN IDs to add to the current list"
              name="add-vlan-id-list"
              ptype="TAGGED_VLAN_INTERFACE_RANGE"
              sub_oper_yang="merge:tagged-ports"
              db_multi_yang_name="&IF_BACKPTRS;/tagged-vlans"
              yang_name= "&IF_REPEAT;/name=vlan${add-vlan-id-list},&IF_REPEAT;/dell-if:tagged-ports[]=arg1"/>
           <ACTION
              builtin="clish_extn"
              ></ACTION>
        </COMMAND>
        <COMMAND
           name="no switchport trunk"
           help="Configure switchport parameters"
           namespace="&MODULE-NS-IETF-IF;,dell-ip=&MODULE-NS-DELL-IP;"
           operation="edit-config"
           default_oper="merge"
           pfeature="FEATURE_CONFIG_OS10_STYLE"
           />
        <COMMAND
           name="no switchport trunk allowed"
           help="Configure switchport parameters"
           namespace="&MODULE-NS-IETF-IF;,dell-ip=&MODULE-NS-DELL-IP;"
           operation="edit-config"
           default_oper="merge"
           pfeature="FEATURE_CONFIG_OS10_STYLE"
           />
        <COMMAND
           name="no switchport trunk allowed vlan"
           help="Configure trunking parameters on an interface"
           namespace="&MODULE-NS-IETF-IF;,dell-ip=&MODULE-NS-DELL-IP;"
           operation="edit-config"
           default_oper="none"
           add_config_entry = "false"
           pfeature="FEATURE_CONFIG_OS10_STYLE"
           >
           <PARAM
              help="VLAN IDs to remove from the current list"
              name="rem-vlan-id-list"
              ptype="TAGGED_VLAN_INTERFACE_RANGE"
              sub_oper_yang="remove:tagged-ports"
              yang_name="&IF_REPEAT;/name=vlan${rem-vlan-id-list},&IF_REPEAT;/dell-if:tagged-ports[]=arg1"/>
           <ACTION
               builtin="clish_extn"
               ></ACTION>
        </COMMAND>
        <!-- Switchport trunk native command not supported in IFM for R1.0
        <COMMAND
            name="switchport trunk native"
            help="Set trunking native characteristics when interface is in trunking mode"
            namespace="&MODULE-NS-IETF-IF;"
            operation="edit-config"
            default_oper="merge">
            <PARAM
               name="vlan"
               help="Set native VLAN when interface is in trunking mode"
               mode="subcommand"
               ptype="SUBCOMMAND">
                <PARAM
                   name="vlan_id"
                   help="VLAN number"
                   ptype="VLAN_ID"
                   yang_name= "&IF_REPEAT;/name,&IF_REPEAT;/dell-if:native-trunk-vlan=vlan${vlan_id}"/>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                ></ACTION>
         </COMMAND>
        <COMMAND
            name="no switchport trunk native"
            help="Set trunking native characteristics when interface is in trunking mode"
            namespace="&MODULE-NS-IETF-IF;"
            operation="edit-config"
            default_oper="merge">
            <PARAM
                name="vlan"
                help="Set native VLAN when interface is in trunking mode"
                mode="subcommand"
                ptype="SUBCOMMAND"
                sub_oper_yang="remove:native-trunk-vlan"
                yang_name= "&IF_REPEAT;/name,&IF_REPEAT;/dell-if:native-trunk-vlan"/>
            <ACTION
                builtin="clish_extn"
                ></ACTION>
         </COMMAND> -->
         <!-- Load interval not supported for R1.0
         <COMMAND
            name="load-interval"
            help="Configure interface rate interval"
            namespace="&MODULE-NS-IETF-IF;"
            operation="edit-config"
            default_oper="merge">
            <PARAM
               name="rate"
               help="Interface load interval in seconds (default = 299)"
               ptype="RATE_INT"
               yang_name= "&IF_REPEAT;/name,&IF_REPEAT;/dell-if:load-interval=${rate}"/>
            <ACTION
                builtin="clish_extn"
                ></ACTION>
         </COMMAND>
         <COMMAND
            name="no load-interval"
            help="Configure interface rate interval"
            namespace="&MODULE-NS-IETF-IF;"
            operation="edit-config"
            sub_oper_yang="remove:load-interval"
            yang_name= "&IF_REPEAT;/name,&IF_REPEAT;/dell-if:load-interval">
            <ACTION
                builtin="clish_extn"
                ></ACTION>
         </COMMAND> -->
</MACRODEF>


<MACRODEF name="INTF_SWITCHPORT_LOADINTV_SINGLE">
    <COMMAND
        name="no switchport access"
        help="Configure switchport parameters"
        namespace="&MODULE-NS-IETF-IF;,dell-cms-int=http://www.dellemc.com/networking/os10/dell-cms-internal,dell-ip=&MODULE-NS-DELL-IP;"
        operation="edit-config"
        default_oper="merge"
        pfeature="FEATURE_CONFIG_OS10_STYLE"
        >
        <PARAM
           name="vlan"
           help="Set VLAN when interface is in access mode"
           mode="subcommand"
           ptype="SUBCOMMAND"
           prompt_fn="insert_access_vlan_name"
           prompt_oper="/dell-cms-int:cms-interface-backptr/dell-cms-int:interface-in-candidate/dell-cms-int:name=arg1"
           prompt_str="/interfaces/interface/name=arg1"
           sub_oper_yang="remove:untagged-ports"
           yang_name="&IF_NO_REPEAT;/name=,&IF_NO_REPEAT;/dell-if:untagged-ports[]=arg1"/>
        <ACTION
            builtin="clish_extn"
            ></ACTION>
    </COMMAND>
</MACRODEF>


<MACRODEF name="TAGGED_UNTAGGED_PORT_CMDS">
     <COMMAND
        name="tagged"
        help="Specify tagged VLAN ports"
        namespace="arg1"
        operation="edit-config"
        default_oper="merge"
        sub_oper_yang="merge:tagged-ports"
        db_flag="SEP_CLI"
        pfeature="FEATURE_CONFIG_OS9_STYLE"
        >
        <PARAM
            name="interface-switch"
            help="Select a interface"
            ptype="SUBCOMMAND"
            mode="switch"
            db_flag="SEP_CLI"
            >
            <PARAM
                name="iface_num"
                help="Physical interface name"
                ptype="ETHER_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:tagged-ports[]=${iface_num}"
                db_multi_yang_name= "arg3/arg4:tagged-ports=ethernet*"
                />
            <PARAM
                name="poiface_num"
                help="Port-channel identifier"
                ptype="PO_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:tagged-ports[]=${poiface_num}"
                db_multi_yang_name= "arg3/arg4:tagged-ports=port-channel*"
                />
        </PARAM>

        <ACTION builtin="clish_extn" ></ACTION>

    </COMMAND>
     <COMMAND
        name="untagged"
        help="Specify tagged VLAN ports"
        namespace="arg1"
        operation="edit-config"
        default_oper="merge"
        sub_oper_yang="merge:untagged-ports"
        db_flag="SEP_CLI"
        pfeature="FEATURE_CONFIG_OS9_STYLE"
        >
        <PARAM
            name="interface-switch"
            help="Select a interface"
            ptype="SUBCOMMAND"
            mode="switch"
            db_flag="SEP_CLI"
            >
            <PARAM
                name="iface_num"
                help="Physical interface name"
                ptype="ETHER_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:untagged-ports[]=${iface_num}"
                db_multi_yang_name= "arg3/arg4:untagged-ports=ethernet*"
                />
            <PARAM
                name="poiface_num"
                help="Port-channel identifier"
                ptype="PO_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:untagged-ports[]=${poiface_num}"
                db_multi_yang_name= "arg3/arg4:untagged-ports=port-channel*"
                />
        </PARAM>

        <ACTION builtin="clish_extn" ></ACTION>

    </COMMAND>
     <COMMAND
        name="no tagged"
        help="Specify tagged VLAN ports"
        namespace="arg1"
        operation="edit-config"
        default_oper="merge"
        sub_oper_yang= "remove:tagged-ports"
        pfeature="FEATURE_CONFIG_OS9_STYLE"
        >
        <PARAM
            name="interface-switch"
            help="Select a interface"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="iface_num"
                help="Physical interface name"
                ptype="ETHER_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:tagged-ports[]=${iface_num}"
                />
            <PARAM
                name="poiface_num"
                help="Port-channel identifier"
                ptype="PO_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:tagged-ports[]=${poiface_num}"
                />
        </PARAM>

        <ACTION builtin="clish_extn" ></ACTION>

    </COMMAND>
     <COMMAND
        name="no untagged"
        help="Specify untagged VLAN ports"
        namespace="arg1"
        operation="edit-config"
        default_oper="merge"
        sub_oper_yang= "remove:untagged-ports"
        pfeature="FEATURE_CONFIG_OS9_STYLE"
        >
        <PARAM
            name="interface-switch"
            help="Select a interface"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="iface_num"
                help="Physical interface name"
                ptype="ETHER_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:untagged-ports[]=${iface_num}"
                />
            <PARAM
                name="poiface_num"
                help="Port-channel identifier"
                ptype="PO_INTERFACE_RANGE"
                yang_name= "arg2,arg3/arg4:untagged-ports[]=${poiface_num}"
                />
        </PARAM>

        <ACTION builtin="clish_extn" ></ACTION>

    </COMMAND>
</MACRODEF>

<MACRODEF name="CHANNEL_MEMBER_PORT_CMDS">
    <!--- channel-member <phy-interface> -->
    <COMMAND
        name="channel-member"
        help="Add member to port-channel"
        namespace="arg1"
        operation="edit-config"
        default_oper="merge"
        yang_key = "arg3/arg4:member-ports/arg4:name"
        pfeature="FEATURE_CONFIG_OS9_STYLE"
        >
        <PARAM
            name="iface_num"
            help="Physical interface name"
            ptype="PHY_INTERFACE"
            yang_name = "arg2,arg3/arg4:member-ports/arg4:name=${iface_num}"
            />

        <ACTION builtin="clish_extn" ></ACTION>

    </COMMAND>

    <!--- no channel-member <phy-interface> -->
    <COMMAND
        name="no channel-member"
        help="Remove member from port-channel"
        namespace="arg1"
        operation="edit-config"
        default_oper="merge"
        sub_oper_yang= "remove:member-ports"
        pfeature="FEATURE_CONFIG_OS9_STYLE"
        >
        <PARAM
            name="iface_num"
            help="Physical interface name"
            ptype="PHY_INTERFACE"
            yang_name= "arg2,arg3/arg4:member-ports/arg4:name=${iface_num}"
            />

        <ACTION builtin="clish_extn" ></ACTION>

    </COMMAND>

</MACRODEF>

</ROOT>
