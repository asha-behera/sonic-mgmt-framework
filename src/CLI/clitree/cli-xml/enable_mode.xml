<?xml version="1.0" encoding="UTF-8"?>
<CLISH_MODULE
    xmlns="http://www.dellemc.com/force10/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xsi:schemaLocation="http://www.dellemc.com/force10/XMLSchema
						http://www.dellemc.com/force10/XMLSchema/clish.xsd"
    >
    <VIEW name="hidden-view" prompt="hidden-view">
        <COMMAND name="!"
                 help="Comments"
                 args="args"
                 args_help="Comments">
                 <ACTION builtin="clish_nop"/>
        </COMMAND>
    </VIEW>
    <!--=======================================================-->
    <VIEW
        name="enable-view"
        prompt="${SYSTEM_NAME}# "
        >
        <NAMESPACE ref="hidden-view" help="false" completion="false"/>
        <!-- Simple enable mode commands -->
        <COMMAND
            name="help"
            help="Display available commands"
            >
            <ACTION
                builtin="clish_nop"
                />
        </COMMAND>
        <COMMAND
            name="terminal"
            help="Set terminal settings"
            />
        <COMMAND
            name="terminal monitor"
            help="Enable logging">
            <ACTION builtin="clish_nop"></ACTION>
        </COMMAND>
        <COMMAND
            name="no"
            help="No commands under exec mode"/>
        <COMMAND
            name="no terminal"
            help="Reset terminal settings"/>
        <COMMAND
            name="no terminal monitor"
            help="Disable logging">
            <ACTION builtin="clish_nop"></ACTION>
        </COMMAND>
        <COMMAND
            name="show terminal"
            help="Show terminal configurations for this session">
        </COMMAND>
        <COMMAND
            name="show terminal monitor"
            help="Show terminal monitor status for this session">
            <ACTION builtin="clish_nop"></ACTION>
        </COMMAND>
        <COMMAND
            name="exit"
            help="Exit from the CLI"
            lock="false"
            >
            <ACTION
                builtin="clish_close"
                />
        </COMMAND>
        <COMMAND
            name="clear"
            access="sysadmin"
            help="Clear command"
            >
        </COMMAND>
        <COMMAND
            name="debug"
            access="sysadmin"
            help="Debug command">
        </COMMAND>
        <COMMAND
            name="debug cli"
            help="Debug CLI module">
        </COMMAND>
        <COMMAND
            name="no debug"
            help="Disable debugging"/>
        <COMMAND
            name="no debug cli"
            help="Disable debugging on cli">
        </COMMAND>
        <COMMAND
            name="configure" access="sysadmin"
            help="Enter configuration mode"
            />
        <COMMAND
            name="configure terminal" access="sysadmin"
            help="Configure from the terminal"
            view="configure-view"
            >
    </COMMAND>
        <!-- Show commands -->
        <COMMAND help="Collection of show commands" name="show tech-support">
            <PARAM
                name="page"
                help="Page through output"
                ptype="SUBCOMMAND"
                mode="subcommand"
                optional="true"
            />
            <ACTION builtin="clish_nop"></ACTION>
        </COMMAND>

        <COMMAND
            name="show"
            help="Show running system information"
            />
        <COMMAND
            name="show diag"
            help="Show diagnostic information for port adapters/modules"
            >
            <ACTION>lspci</ACTION>
        </COMMAND>
        <COMMAND
            name="show parser-tree"
            help="Show parser tree"
            >
            <ACTION builtin="clish_nop"> </ACTION>
        </COMMAND>
        <COMMAND
            name="show running-configuration"
            help="Current operating configuration"
            >
            <ACTION builtin="clish_nop"> </ACTION>
        </COMMAND>
        <COMMAND
            name="show running-configuration compressed"
            help="Current operating configuration in compressed format"
            >
            <ACTION builtin="clish_nop"> </ACTION>
        </COMMAND>
        <COMMAND name="show exec-timeout"
                 help="Show the timeout value of CLI session (in seconds)"
                 template="show_session_cli_timeout.xsl">
                 <ACTION builtin="clish_nop"> </ACTION>
        </COMMAND>
        <COMMAND name="show cli-session"
                 help="This command is deprecated please use 'show sessions' instead"
                 template="show_session.xsl"
                 template_param="curr_sessid= __ncsessionid">
                 <ACTION builtin="clish_nop"> </ACTION>
        </COMMAND>

        <COMMAND name="show sessions"
                 help="Show active management sessions"
                 template="show_active_sessions.xsl"
                 template_param="curr_sessid= __ncsessionid">
                 <ACTION builtin="clish_nop"> </ACTION>
        </COMMAND>

        <COMMAND name="kill-session" access="sysadmin"
                 help="Kill a CLISH session">
                 <PARAM name="session-id"
                        help="Session ID"
                        ptype="UINT"/>
                 <ACTION builtin="clish_nop"></ACTION>
        </COMMAND>
        <!-- Write commands -->
        <COMMAND
            name="write" access="sysadmin"
            help="Copy from current system configuration"
            />
        <COMMAND
            name="write memory" access="sysadmin"
            help="Copy current system configuration to startup configuration"
            >
            <ACTION builtin="clish_nop"> </ACTION>
        </COMMAND>
        <!-- Batch mode -->
        <!-- TBD - Provision to accept URI where the file could be local or remote file -->
        <COMMAND
            name="batch" access="sysadmin"
            help="Batch Mode"
            >
            <PARAM
            name="batch_cmd"
            help="Enter the batch config filename along with its filepath"
            ptype="STRING">
            </PARAM>
            <ACTION builtin="clish_nop"></ACTION>
        </COMMAND>
        <!-- Special commands -->
        <COMMAND
            name="system"
            help="System command"
            >
            <PARAM
                name="cmd"
                help="Enter the linux command to execute"
                ptype="STRING_WITH_PIPE"
                >
            </PARAM>
            <ACTION>
                ${cmd}
            </ACTION>
        </COMMAND>
    </VIEW>
</CLISH_MODULE>
